{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"Introduction","text":"<p>Welcome to the Aurix Integration Hub. This guide helps partners and developers connect with the Aurix platform.</p>","path":["Introduction"],"tags":[]},{"location":"#collaboration","level":2,"title":"Collaboration","text":"<p>This documentation is built for our partners. We know every system is different, and we are ready to adapt.</p> <p>Our Commitment: If specific endpoints, data structures, or webhooks are identified that would streamline the integration, please contact our development team. We are eager to collaborate and implement solutions that ensure the integration goes smoothly.</p>","path":["Introduction"],"tags":[]},{"location":"#about-aurix","level":2,"title":"About Aurix","text":"<p>Aurix enables businesses to connect their social media accounts to intelligent AI tools. Once connected, we can securely push and share collected data, such as qualified leads and widget interaction details,directly with your system in real time. Our API and webhooks enable seamless synchronization, allowing your platform to immediately receive and act on new information gathered by our AI agents.</p> <ul> <li>Lead Gen Agent: Automatically collects and qualifies user details via chat.</li> <li>FAQ Agent: Instantly answers customer questions using a verified knowledge base.</li> </ul>","path":["Introduction"],"tags":[]},{"location":"#whatsapp-widget","level":2,"title":"WhatsApp Widget","text":"<p>The WhatsApp Widget embeds a chat widget on websites. It links web traffic data (like UTM parameters) to WhatsApp conversations to track attribution from ad clicks to messages.</p> <p>How it Works:</p> <ol> <li>Captures Traffic Data: A lightweight script on the website captures URL parameters (UTM, GCLID), source URLs, and device identifiers.</li> <li>Generates Correlation: When a user clicks to chat, the system generates a unique Correlation ID (e.g., <code>O-xY123z</code>).</li> <li>Links Conversation: This ID is embedded in the pre-filled WhatsApp message. When the user sends it, the web session data is permanently linked to the new lead.</li> </ol> <p>Development Status</p> <p>The WhatsApp widget is currently in active development.</p> <ul> <li>Now: Supports URL parsing, click tracking, and basic correlation.</li> <li>Coming Soon: Advanced device tracking, network and page context.</li> </ul>","path":["Introduction"],"tags":[]},{"location":"#current-vs-planned-tracking-capabilities","level":2,"title":"Current vs Planned Tracking Capabilities","text":"Feature Status Details Raw IP Address Available. Raw User-Agent Available. Landing Page URL Available. Parsed Ad Params Available. • Full \"Capture Everything\" approach with raw parsing. • No Truncation: We do not filter or truncate keys. We store every parameter as presented in the URL.• Duplicate Handling: Automatically converts duplicate keys (e.g., multiple <code>utm_source</code>) into arrays (<code>[\"google\", \"search\"]</code>). Network Not available. (Carrier/ASN/Geo-location). Device Fingerprinting Not available. Page Context Not available. (Referrer URLs and Page Titles are not currently captured).","path":["Introduction"],"tags":[]},{"location":"external-integration/","level":1,"title":"Aurix External CDP Integration","text":"<p>Aurix can send event notifications to your specified endpoint using webhooks. This integration allows you to receive real-time updates for supported events directly to your backend system. This document serves as the technical reference for integrating with the Aurix platform. It covers authentication, webhook configuration, event schemas, and the Leads API.</p> <p>For a step-by-step implementation guide, please refer to the Integration Tutorial.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#api-overview","level":2,"title":"API Overview","text":"<p>Base URL: <code>https://chatbot-api.oomdigital.com</code></p> <p>All API requests must be made over HTTPS.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#authentication","level":3,"title":"Authentication","text":"<p>Access to the Integration API is protected by a Bearer Token. You must include your <code>AURIX_API_KEY</code> in the <code>Authorization</code> header of every request. You can request for this key from the Aurix team.</p> <p>Important: Each API key uniquely identifies your partner account. The system automatically resolves your identity from the API key.</p> <pre><code>Authorization: Bearer &lt;YOUR_AURIX_API_KEY&gt;\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"external-integration/#webhooks","level":2,"title":"Webhooks","text":"<p>Webhooks allow your system to receive real-time notifications about lead activities and widget interactions.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#1-configuration","level":3,"title":"1. Configuration","text":"<p>To start receiving events, you must register your webhook listener URL.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#register-or-update-url","level":4,"title":"Register or Update URL","text":"<p>Endpoint: <code>PUT /integrations/external/webhook-config</code></p> <p>Registers or updates the URL where Aurix will send <code>POST</code> requests.</p> Request<pre><code>curl -X PUT \\\n  \"https://chatbot-api.oomdigital.com/integrations/external/webhook-config\" \\\n  -H \"Authorization: Bearer &lt;YOUR_AURIX_API_KEY&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"url\": \"https://your-backend.com/webhooks/aurix\"\n  }'\n</code></pre> Response<pre><code>{\n  \"id\": \"dc2321f2-6a75-4d50-8861-3ea24ca29a84\",\n  \"target_url\": \"https://your-backend.com/webhooks/aurix\",\n  \"secret\": \"aurix_pzgwhW5X...\",\n  \"is_active\": true\n}\n</code></pre> <p>Note</p> <p>Each API Key uniquely identifies a partner account and allows for one registered webhook listener URL. Registering a new URL will overwrite the previous one.</p> <p>Important</p> <p>Save the <code>secret</code> from the response. You will need it to verify the <code>x-hub-signature</code> header on incoming events.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#get-configuration","level":4,"title":"Get Configuration","text":"<p>Endpoint: <code>GET /integrations/external/webhook-config</code></p> <p>Retrieves your current webhook settings.</p> Request<pre><code>curl -X GET \\\n  \"https://chatbot-api.oomdigital.com/integrations/external/webhook-config\" \\\n  -H \"Authorization: Bearer &lt;YOUR_AURIX_API_KEY&gt;\"\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"external-integration/#2-event-payloads","level":3,"title":"2. Event Payloads","text":"<p>Aurix sends JSON payloads for the following events.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#event-flow-summary","level":4,"title":"Event Flow Summary","text":"<ol> <li> <p><code>widget.click</code> (User Action)</p> <ul> <li>Trigger: An Anonymous User clicks the WhatsApp widget.</li> <li>Purpose: Initiates tracking and captures attribution data (UTM params, IP) for the session.</li> <li>State: User is Anonymous.</li> </ul> </li> <li> <p><code>lead.correlated</code> (Identity Resolution)</p> <ul> <li>Trigger: The user sends their first message, allowing the system to resolve their identity (Phone Number).</li> <li>Purpose: Links the anonymous session (<code>correlation_id</code>) to a Known Profile.</li> <li>State: User is Identified but profile data is incomplete.</li> </ul> </li> <li> <p><code>lead.complete</code> (Profile Enrichment)</p> <ul> <li>Trigger: The AI successfully collects all required data points (Name, Email, Phone Number).</li> <li>Purpose: Finalizes the profile enrichment process.</li> <li>State: User is a Qualified Lead ready for activation/export.</li> </ul> </li> </ol>","path":["External Integration"],"tags":[]},{"location":"external-integration/#widgetclick","level":4,"title":"<code>widget.click</code>","text":"<p>Triggers when a visitor clicks the WhatsApp widget. Contains \"First Touch\" attribution.</p> <p>For a detailed breakdown of what data fields are parsed and stored (e.g. UTM parameters, device info), please refer to the Tracking Capabilities section.</p> <ul> <li><code>correlation_id</code>: (String) A unique session identifier used to link future events to this click.</li> <li><code>parsed_params</code>: (Object) Dictionary of UTM parameters and GCLID extracted from the URL.</li> </ul> <pre><code>{\n  \"event_type\": \"widget.click\",\n  \"event_id\": \"evt_1704200000\",\n  \"timestamp\": \"2024-01-02T12:00:00Z\",\n  \"data\": {\n    \"correlation_id\": \"O-vpbWx3M\",\n    \"device_id\": \"9fad5f62-2d08-49d4-852a-b48be43beb68\",\n    \"click_url\": \"https://example.com/landing?utm_source=google\",\n    \"parsed_params\": {\n      \"utm_source\": \"google\"\n    },\n    \"ip_address\": \"127.0.0.1\",\n    \"user_agent\": \"Mozilla/5.0...\"\n  }\n}\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"external-integration/#leadcorrelated","level":4,"title":"<code>lead.correlated</code>","text":"<p>Triggers when an anonymous visitor sends their first message. Links the <code>correlation_id</code> to a phone number.</p> <pre><code>{\n  \"event_type\": \"lead.correlated\",\n  \"event_id\": \"evt_1704200500\",\n  \"timestamp\": \"2024-01-02T12:05:00Z\",\n  \"data\": {\n    \"correlation_id\": \"O-vpbWx3M\",\n    \"conversation_id\": 3293,\n    \"phone_number\": \"6512345678\",\n    \"lead_status\": \"correlated\",\n    \"channel_id\": \"791163770738681\"\n  }\n}\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"external-integration/#leadcomplete","level":4,"title":"<code>lead.complete</code>","text":"<p>Triggers when the AI has collected all required information from the user (e.g., name, email, intent). This event signifies a qualified lead.</p> <pre><code>{\n  \"event_type\": \"lead.complete\",\n  \"event_id\": \"evt_1704201000\",\n  \"timestamp\": \"2024-01-02T12:10:00Z\",\n  \"data\": {\n    \"correlation_id\": \"O-vpbWx3M\",\n    \"conversation_id\": 3293,\n    \"lead_status\": \"complete\",\n    \"lead_data\": {\n      \"name\": \"Mock User\",\n      \"email\": \"mock@example.com\",\n      \"phone\": \"+15550009999\",\n      \"company\": \"Mock Inc\",\n      \"intent\": \"Testing Webhooks\"\n    }\n  }\n}\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"external-integration/#3-security-reliability","level":3,"title":"3. Security &amp; Reliability","text":"","path":["External Integration"],"tags":[]},{"location":"external-integration/#signature-verification","level":4,"title":"Signature Verification","text":"<p>Every webhook request includes an <code>x-hub-signature</code> header. This is an HMAC-SHA256 signature generated using your <code>secret</code>. Always verify this signature to ensure the request is genuine.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#retry-policy","level":4,"title":"Retry Policy","text":"<p>Aurix currently uses a Fire and Forget mechanism. If your listener is down or returns a non-200 status code, the event will not be retried. Ensure your listener is highly available and responds quickly.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#leads-api","level":2,"title":"Leads API","text":"<p>Fetch lead data and attribution logs programmatically.</p>","path":["External Integration"],"tags":[]},{"location":"external-integration/#get-leads","level":3,"title":"Get Leads","text":"<p>Endpoint: <code>GET /integrations/external/leads</code></p> <p>Returns a list of leads with their status, collected form data, and attribution info.</p> <p>Query Parameters: *   <code>limit</code>: (int) Max records to return (default 50). *   <code>offset</code>: (int) Pagination offset. *   <code>from_date</code>: (ISO 8601) Filter start date. *   <code>to_date</code>: (ISO 8601) Filter end date.</p> Request<pre><code>curl -X GET \\\n  \"https://chatbot-api.oomdigital.com/integrations/external/leads?limit=5\" \\\n  -H \"Authorization: Bearer &lt;YOUR_AURIX_API_KEY&gt;\"\n</code></pre> Response<pre><code>{\n  \"status\": 200,\n  \"message\": \"ok\",\n  \"data\": [\n    {\n      \"lead_id\": 470,\n      \"lead_status\": \"active\",\n      \"lead_json\": {\n        \"contact_name\": \"Jane Doe\",\n        \"contact_number\": \"6587487282\",\n        \"contact_email\": \"jane@example.com\",\n        \"preferred_outlet\": \"Orchard Gateway\",\n        \"selected_service\": \"Eyelash Extensions\",\n        \"preferred_date_time\": \"1 January 2026\"\n      },\n      \"created_at\": \"2025-12-31T12:20:16.583181Z\",\n      \"updated_at\": \"2026-01-02T01:38:05.868837Z\",\n      \"click_url\": null,\n      \"parsed_params\": null,\n      \"ip_address\": null,\n      \"user_agent\": null\n    }\n  ]\n}\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"external-integration/#get-attribution-logs","level":3,"title":"Get Attribution Logs","text":"<p>Endpoint: <code>GET /integrations/external/attribution</code></p> <p>Retrieves raw widget click logs, useful for auditing traffic sources.</p> Request<pre><code>curl -X GET \\\n  \"https://chatbot-api.oomdigital.com/integrations/external/attribution?limit=5\" \\\n  -H \"Authorization: Bearer &lt;YOUR_AURIX_API_KEY&gt;\"\n</code></pre> Response<pre><code>{\n  \"status\": 200,\n  \"message\": \"ok\",\n  \"data\": [\n    {\n      \"wa_inbound_source_correlation_id\": \"O-vpbWx3M\",\n      \"wa_inbound_source_device_id\": \"9fad5f62-2d08-49d4-852a-b48be43beb68\",\n      \"created_at\": \"2026-01-02T11:17:02.644566Z\",\n      \"wa_inbound_source_click_url\": \"http://example.com/auth/login\",\n      \"wa_inbound_source_first_raw_url\": \"http://example.com/auth/login\",\n      \"wa_inbound_source_parsed_params\": {},\n      \"wa_inbound_source_ip_address\": \"127.0.0.1\",\n      \"wa_inbound_source_user_agent\": \"Mozilla/5.0...\"\n    }\n  ]\n}\n</code></pre>","path":["External Integration"],"tags":[]},{"location":"tutorial-webhook-integration/","level":1,"title":"Step-by-Step Integration Guide","text":"<p>This guide will walk you through the end-to-end process of integrating with Aurix. You will learn how to set up a webhook listener, expose it to the internet, and register it with our API to receive real-time event notifications.</p>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#prerequisites","level":2,"title":"Prerequisites","text":"<ul> <li>API Key: You should have received a <code>Bearer</code> token (<code>AURIX_API_KEY</code>) from the Aurix team.</li> <li>Python Installed: This guide uses Python for the example listener, but you can use any language.</li> </ul>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#key-concepts-api-key-vs-webhook-secret","level":2,"title":"Key Concepts: API Key vs. Webhook Secret","text":"<p>Before we begin, it is crucial to understand the difference between the two keys you will handle:</p> <ol> <li> <p>AURIX_API_KEY (Bearer Token):</p> <ul> <li>Purpose: Authentication and Partner Identification. Used to authorize your API requests TO Aurix (e.g., registering your URL). The system automatically identifies your partner account from this key.</li> <li>Source: Provided to you by the Aurix team. Each partner receives a unique API key.</li> <li>Usage: Header <code>Authorization: Bearer &lt;KEY&gt;</code> in your API calls.</li> </ul> </li> <li> <p>Webhook Secret (<code>aurix_...</code>):</p> <ul> <li>Purpose: Verification. Used to verify that events sent FROM Aurix to your listener are genuine.</li> <li>Source: Generated by Aurix API when you register your webhook URL (Step 3).</li> <li>Usage: Used to compute the HMAC-SHA256 signature to validate the <code>x-hub-signature</code> header.</li> </ul> </li> </ol>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#step-1-create-a-webhook-listener","level":2,"title":"Step 1: Create a Webhook Listener","text":"<p>First, you need a server to receive the webhook <code>POST</code> requests. Below is a simple python script using <code>FastAPI</code> that listens for events and verifies the security signature.</p> <p>Create a file named <code>webhook_listener.py</code>:</p> <pre><code>import uvicorn\nfrom fastapi import FastAPI, Request, HTTPException, Header\nimport logging\nimport hmac\nimport hashlib\nimport os\n\n# Configuration\n# The secret you receive from Aurix after registering your URL\nWEBHOOK_SECRET = os.environ.get(\"AURIX_WEBHOOK_SECRET\", \"your_generated_secret_here\")\n\n# Configure logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(\"webhook_listener\")\n\napp = FastAPI()\n\ndef verify_signature(payload: bytes, signature_header: str, secret: str) -&gt; bool:\n    \"\"\"Verifies the HMAC-SHA256 signature.\"\"\"\n    if not signature_header:\n        return False\n\n    # Calculate expected signature\n    expected_signature = hmac.new(\n        secret.encode(\"utf-8\"),\n        payload,\n        hashlib.sha256\n    ).hexdigest()\n\n    return hmac.compare_digest(expected_signature, signature_header)\n\n@app.post(\"/webhook\")\nasync def receive_webhook(\n    request: Request, \n    x_hub_signature: str = Header(None)\n):\n    # 1. Read the raw body\n    raw_body = await request.body()\n\n    # 2. Verify Signature\n    # It is critical to verify the request came from Aurix\n    if not verify_signature(raw_body, x_hub_signature, WEBHOOK_SECRET):\n        logger.warning(\"Received request with invalid signature.\")\n        raise HTTPException(status_code=401, detail=\"Invalid signature\")\n\n    # 3. Parse and Process\n    try:\n        body = await request.json()\n        event_type = body.get(\"event_type\")\n\n        logger.info(f\"Received valid event: {event_type}\")\n        logger.info(f\"Data: {body}\")\n\n        # Add your business logic here\n        if event_type == \"widget.click\":\n            # Handle click tracking\n            pass\n        elif event_type == \"lead.correlated\":\n            # Handle new lead\n            pass\n\n        return {\"status\": \"received\"}\n\n    except Exception as e:\n        logger.error(f\"Error processing webhook: {e}\")\n        raise HTTPException(status_code=500, detail=\"Internal processing error\")\n\nif __name__ == \"__main__\":\n    print(\"Starting Webhook Listener on http://localhost:8005/webhook\")\n    uvicorn.run(app, host=\"0.0.0.0\", port=8005)\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#install-dependencies","level":3,"title":"Install Dependencies","text":"<pre><code>pip install fastapi uvicorn\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#run-the-listener","level":3,"title":"Run the Listener","text":"<pre><code>python webhook_listener.py\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#step-2-expose-your-listener","level":2,"title":"Step 2: Expose Your Listener","text":"<p>Aurix needs to reach your listener over the public internet. For development, you can use a tool like ngrok to create a secure tunnel to your localhost.</p> <ol> <li>Start ngrok:     <pre><code>ngrok http 8005\n</code></pre></li> <li>Copy the URL: ngrok will give you a public HTTPS URL (e.g., <code>https://a1b2-c3d4.ngrok.io</code>).</li> <li>Append the path: Your full webhook URL will be <code>https://a1b2-c3d4.ngrok.io/webhook</code>.</li> </ol>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#step-3-register-your-webhook","level":2,"title":"Step 3: Register Your Webhook","text":"<p>Now you must tell Aurix where to send the events. You will use the Configuration API to set your URL.</p> <p>Endpoint: <code>PUT https://chatbot-api.oomdigital.com/integrations/external/webhook-config</code></p> <p>Command:</p> <p>Replace <code>&lt;YOUR_AURIX_API_KEY&gt;</code> with the key provided to you, and <code>&lt;YOUR_WEBHOOK_URL&gt;</code> with your public URL from Step 2.</p> <pre><code>curl -X PUT \"https://chatbot-api.oomdigital.com/integrations/external/webhook-config\" \\\n     -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer &lt;YOUR_AURIX_API_KEY&gt;\" \\\n     -d '{\n           \"url\": \"&lt;YOUR_WEBHOOK_URL&gt;\"\n         }'\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#save-the-secret","level":3,"title":"Save the Secret!","text":"<p>The API will respond with a JSON object containing a <code>secret</code>.</p> <pre><code>{\n  \"id\": \"...\",\n  \"target_url\": \"https://a1b2-c3d4.ngrok.io/webhook\",\n  \"secret\": \"aurix_8f7d9a8b...\", \n  \"is_active\": true\n}\n</code></pre> <p>Copy the <code>secret</code> value. Stop your python script, set this as an environment variable (or update the code), and restart the listener. This secret is required to pass the signature verification in Step 1.</p> <pre><code>export AURIX_WEBHOOK_SECRET=\"aurix_8f7d9a8b...\"\npython webhook_listener.py\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#step-4-receive-events","level":2,"title":"Step 4: Receive Events","text":"<p>Once registered, Aurix will immediately begin sending events to your URL.</p>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#example-widget-click-event","level":3,"title":"Example: Widget Click Event","text":"<p>When an anonymous user clicks the WhatsApp widget, your listener will receive:</p> <pre><code>{\n  \"event_type\": \"widget.click\",\n  \"event_id\": \"evt_1704200000\",\n  \"timestamp\": \"2024-01-02T12:00:00Z\",\n  \"data\": {\n    \"correlation_id\": \"wa_123456\",\n    \"click_url\": \"https://example.com/landing?utm_source=google\",\n    \"parsed_params\": {\n      \"utm_source\": \"google\"\n    },\n    \"ip_address\": \"1.2.3.4\",\n    \"user_agent\": \"Mozilla/5.0...\"\n  }\n}\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#example-lead-correlated-event","level":3,"title":"Example: Lead Correlated Event","text":"<p>When the user sends their first message and is identified:</p> <pre><code>{\n  \"event_type\": \"lead.correlated\",\n  \"event_id\": \"evt_1704200500\",\n  \"timestamp\": \"2024-01-02T12:05:00Z\",\n  \"data\": {\n    \"correlation_id\": \"wa_123456\",\n    \"conversation_id\": 987,\n    \"phone_number\": \"+15551234567\",\n    \"lead_status\": \"correlated\",\n    \"channel_id\": \"...\"\n  }\n}\n</code></pre>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-webhook-integration/#example-lead-complete-event","level":3,"title":"Example: Lead Complete Event","text":"<p>When the AI collects all required information from the lead:</p> <pre><code>{\n  \"event_type\": \"lead.complete\",\n  \"event_id\": \"evt_1704201000\",\n  \"timestamp\": \"2024-01-02T12:10:00Z\",\n  \"data\": {\n    \"correlation_id\": \"wa_123456\",\n    \"conversation_id\": 987,\n    \"lead_status\": \"complete\",\n    \"lead_data\": {\n      \"name\": \"Mock User\",\n      \"email\": \"mock@example.com\",\n      \"phone\": \"+15550009999\",\n      \"company\": \"Mock Inc\",\n      \"intent\": \"Testing Webhooks\"\n    }\n  }\n}\n</code></pre> <p>You have now successfully integrated with Aurix!</p>","path":["Integration Tutorial"],"tags":[]},{"location":"tutorial-widget-embedding/","level":1,"title":"WhatsApp Widget Setup","text":"<p>The WhatsApp Widget allows our client's website visitors to start a conversation with our client's team directly via WhatsApp. This tutorial covers how to connect their channel, customize the widget's appearance, and embed it on our client's website.</p>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]},{"location":"tutorial-widget-embedding/#prerequisites","level":2,"title":"Prerequisites","text":"<p>Before setting up the widget, ensure the client has:</p> <ul> <li>An active WhatsApp Business account.</li> <li>Access to their website's source code or CMS (e.g., Webflow, Next.js).</li> </ul>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]},{"location":"tutorial-widget-embedding/#step-1-connect-the-whatsapp-channel","level":2,"title":"Step 1: Connect the WhatsApp Channel","text":"<p>To use the widget, the client must first connect their WhatsApp number through Meta Business.</p> <ol> <li>Navigate to Account Settings and select the Channel Management tab.</li> <li>Click Connect Now in the Meta Business Connection section.</li> <li>Follow the Meta authentication flow to link the account.</li> <li>Once linked, their WhatsApp numbers will appear under Managed Account Channels.</li> <li>Activate the number they wish to use by clicking the toggle switch.</li> </ol> <p></p> <p>The Channel Management interface where our client connects Meta and activates their WhatsApp numbers.</p>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]},{"location":"tutorial-widget-embedding/#step-2-customize-the-widget","level":2,"title":"Step 2: Customize the Widget","text":"<p>After activating the number, you can customize how the widget appears to our client's website visitors.</p> <ol> <li>Go to the WhatsApp Widget tab in Account Settings.</li> <li>Select the client's WhatsApp Number from the dropdown menu.</li> </ol> <p></p> <p>Select the active number to begin configuring the widget's appearance and behavior.</p> <ol> <li>Configure the Teaser Settings:<ul> <li>Popup teaser (ON): Displays a header name, a preview message, and a \"Message us\" button.</li> <li>Popup teaser (OFF): Displays only the floating WhatsApp icon.</li> </ul> </li> <li>Header Name: Enter the company or department name.</li> <li>Preview Message: Write a short greeting to encourage visitors to chat.</li> <li>WhatsApp Pre-filled Message: Define the message that will be automatically typed for the visitor when they open WhatsApp.</li> <li>Click Save Settings to finalize the configuration.</li> </ol>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]},{"location":"tutorial-widget-embedding/#step-3-technical-installation","level":2,"title":"Step 3: Technical Installation","text":"<p>The final step is to embed the widget script into our client's website.</p> <ol> <li>Scroll to the Installation section at the bottom of the page.</li> <li>Copy the generated Script Snippet.</li> </ol> <p></p> <p>Copy the unique script snippet from the Installation section.</p> <ol> <li>Paste the snippet just before the closing <code>&lt;/body&gt;</code> tag on every page where the widget should appear.</li> </ol>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]},{"location":"tutorial-widget-embedding/#platform-specific-guides","level":3,"title":"Platform-Specific Guides","text":"<p>Different platforms (Shopify, WordPress, etc.) have different methods for inserting custom scripts. The key is to inject the snippet into the correct location. </p> <p>Consulting the Developer</p> <p>If the integration does not work as expected, consult the website developer. Show them the script snippet and ask them where it should be injected for the specific platform. They just need to ensure the script is loaded and the data attributes are correctly preserved.</p> Standard HTMLNext.js <p>Paste the script at the end of your HTML file:</p> <pre><code>&lt;body&gt;\n  &lt;!-- Your content --&gt;\n  &lt;script\n    id=\"wa-widget-loader\"\n    src=\"[whatsapp_widget_src]\"\n    data-omnichat-whatsapp-token=\"YOUR_TOKEN\"\n    data-popup=\"1\"\n    data-message-template=\"Hello! I have a question.\"\n    data-display-name=\"Support Team\"\n    data-preview-message=\"How can we help you today?\"\n  &gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre> <p>Incorporate the widget using the <code>next/script</code> component in your <code>layout.tsx</code> or <code>_app.js</code>:</p> layout.tsx<pre><code>import Script from 'next/script'\n\nexport default function RootLayout({ children }) {\n  return (\n    &lt;html lang=\"en\"&gt;\n      &lt;body&gt;\n        {children}\n        &lt;Script\n          id=\"wa-widget-loader\"\n          src=\"[whatsapp_widget_src]\"\n          data-omnichat-whatsapp-token=\"YOUR_TOKEN\" // (1)!\n          data-popup=\"1\"\n          data-message-template=\"Hello! I have a question.\"\n          data-display-name=\"Support Team\"\n          data-preview-message=\"How can we help you today?\"\n          strategy=\"afterInteractive\"\n        /&gt;\n      &lt;/body&gt;\n    &lt;/html&gt;\n  )\n}\n</code></pre> <ol> <li> Replace <code>YOUR_TOKEN</code> with the unique token generated in your dashboard.</li> </ol>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]},{"location":"tutorial-widget-embedding/#troubleshooting","level":2,"title":"Troubleshooting","text":"The widget isn't appearing on our client's site <ul> <li>Ensure the WhatsApp number is active in Channel Management.</li> <li>Verify that the script is placed correctly before the <code>&lt;/body&gt;</code> tag of the site.</li> <li>Check the browser console for any loading errors (Right-click &gt; Inspect &gt; Console).</li> <li>Ensure the <code>data-omnichat-whatsapp-token</code> matches the one in the dashboard exactly.</li> </ul> Dashboard settings were updated, but the widget hasn't changed <ul> <li>Caching: The browser or website may be caching an older version of the script. Try clearing the browser cache or viewing the site in an Incognito/Private window.</li> <li>Saving: Ensure Update/Save Settings was clicked in the dashboard after making changes.</li> <li>Number Change: If switching to a different WhatsApp number, you must copy the new script snippet and update it on the website, as the token is unique to each number.</li> </ul> The widget overlaps with other elements on the site <ul> <li>The widget is positioned at the bottom-right by default. If it overlaps with other site elements (like \"Back to Top\" buttons), the website developer may need to adjust the CSS positioning of either the widget or the conflicting element.</li> </ul> Console error: 'Refused to load the script because it violates Content Security Policy' <ul> <li>The website may have a Content Security Policy (CSP) that blocks external scripts. The developer will need to add <code>main.du8hnidrrumqb.amplifyapp.com</code> to the <code>script-src</code> directive of the CSP.</li> </ul> Can I use multiple numbers on one site? <p>Currently, the widget is designed to use one primary WhatsApp number per installation. To change numbers, update the settings in your dashboard and the widget will reflect the changes automatically; you will need to copy the new configuration and repeat the installation steps again.</p>","path":["WhatsApp Widget Setup"],"tags":["Tutorial","Widget","WhatsApp"]}]}